
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The documentation site for Graphery">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.3">
    
    
      
        <title>Databse Schema - Graphery Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3b61ea93.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Graphery Docs" class="md-header-nav__button md-logo" aria-label="Graphery Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Graphery Docs
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Databse Schema
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Graphery Docs" class="md-nav__button md-logo" aria-label="Graphery Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Graphery Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    
    <label class="md-nav__link" for="nav-2">
      User Manual
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User Manual" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        User Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../user-manual/get-started/" class="md-nav__link">
      Get Started
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../user-manual/utils/" class="md-nav__link">
      Utilities
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../user-manual/local-server/" class="md-nav__link">
      Local Server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      For Writers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="For Writers" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        For Writers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../for-writers/get-started/" class="md-nav__link">
      Get Started
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Backend Doc
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Backend Doc" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Backend Doc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Databse Schema
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Databse Schema
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mixins" class="md-nav__link">
    Mixins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#category" class="md-nav__link">
    Category
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    Graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execresultjson" class="md-nav__link">
    ExecResultJson
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#languagecode" class="md-nav__link">
    {LanguageCode}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#languagecodegraphcontent" class="md-nav__link">
    {LanguageCode}GraphContent
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../naming-convention/" class="md-nav__link">
      Naming Conventions
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../cli-usages/" class="md-nav__link">
      CLI Usages
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../api-specification/" class="md-nav__link">
      APIs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../about/" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mixins" class="md-nav__link">
    Mixins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    User
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#category" class="md-nav__link">
    Category
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorial" class="md-nav__link">
    Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    Graph
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execresultjson" class="md-nav__link">
    ExecResultJson
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#languagecode" class="md-nav__link">
    {LanguageCode}
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#languagecodegraphcontent" class="md-nav__link">
    {LanguageCode}GraphContent
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Databse Schema</h1>
                
                <h2 id="introduction">Introduction</h2>
<p>The document talks about the database schema and how things are connected. I will list all the fields in each model (table/object), and talk about the relationships it has with other model. </p>
<p>I use Django ORM for the database accessing/writing. </p>
<p>Some notations: <code>FK</code>: Foreign Key, <code>MTM</code>: Many To Many Relationship, <code>OTO</code>: One To One Relationship. </p>
<h2 id="mixins">Mixins</h2>
<p>I copied a description of mixins, but you can just skip it knowing that mixin is just a plugin enabling models having the mixin possess the same properties the mixin has. </p>
<p>"In same cases different models could have same fields and same procedures in the product life cycle. To handle these similarities without having code repetition inheritance could be used. Instead of inheriting a whole class, mixin design pattern offers us to inherit (or some says include) some methods and attributes." </p>
<ul>
<li><code>UUIDMixin</code> <ul>
<li><code>id</code>: The unique identifier of records. The value is generated by 
<code>uuid.uuid4</code> method in the native Python library. </li>
</ul>
</li>
<li><code>TimeDateMixin</code><ul>
<li><code>created_time</code>: It automatically records the time at which a record is created. </li>
<li><code>modified_time</code>: It automatically records the time at which a record is modified. </li>
</ul>
</li>
<li><code>PublishedMixin</code><ul>
<li><code>is_published</code>: A field indicating whether the record having this property should be displayed publicly. </li>
</ul>
</li>
</ul>
<h2 id="user"><code>User</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>username</code>: The username of a user</li>
<li><code>email</code>: The email of a user</li>
<li><code>is_verified</code>: A field indicating whether this user passes email verification</li>
<li><code>role</code>: The role of this user, it can be either one of the following values: <code>Administrator</code>, <code>Author</code>, <code>Translator</code>, <code>Visitor</code>. </li>
<li><code>date_joined</code>: The date on which this user is created </li>
</ul>
<h2 id="category"><code>Category</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>PublishedMixin</code></li>
<li><code>category</code>: The category name </li>
</ul>
<h2 id="tutorial"><code>Tutorial</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>PublishedMixin</code></li>
<li><code>url</code>: The unique url of this tutorial. Users can access this tutorial by typing <code>https://domain-name.com/tutorial/url</code> in the browser to access this tutorial</li>
<li><code>name</code>: The unique human readable id of this tutorial </li>
<li><code>categories</code> (MTM): This field links <code>Tutorial</code> with the <code>Category</code></li>
</ul>
<h2 id="graph"><code>Graph</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>PublishedMixin</code></li>
<li><code>url</code>: The unique url of this tutorial. Users can access the playground of this graph by typing <code>https://domain-name.com/graph/url</code> (format to be changed in future releases). </li>
<li><code>name</code>: The unique human readable id of this graph</li>
<li><code>categories</code> (MTM): This field links <code>Graph</code> with the <code>Category</code></li>
<li><code>authors</code> (MTM): This field links <code>Graph</code> with <code>User</code> </li>
<li><code>priority</code>: The priority of this graph, it can be either one of the following values: <code>Main Graph</code>, <code>Supplement Graph</code>, and <code>Trivial Graph</code> </li>
<li><code>tutorials</code> (MTM): This field links <code>Graph</code> with <code>Tutorial</code></li>
</ul>
<h2 id="code"><code>Code</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>tutorial</code> (OTO): This field links <code>Code</code> with <code>Tutorial</code></li>
<li><code>code</code>: The actual content of the Python code</li>
</ul>
<h2 id="execresultjson"><code>ExecResultJson</code></h2>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>code</code> (FK): This field links <code>ExecResultJson</code> with <code>Code</code></li>
<li><code>graph</code> (FK): This field links <code>ExecResultJson</code> with <code>Graph</code></li>
<li><code>json</code>: The actual json content read by the frontend to update Cytoscape graphs and the editor highlighting. </li>
</ul>
<h2 id="languagecode"><code>{LanguageCode}</code></h2>
<p><code>{LanguageCode}</code> should be swapped by actual language code like <code>ENUS</code>, <code>ZHCN</code>, etc. The code should only contain uppercase letters. </p>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>PublishedMixin</code></li>
<li><code>title</code>: The actual title that will be in different language and displayed on the website's title section. </li>
<li><code>authors</code>: This link translations with <code>User</code>, stores the users who wrote/translate this tutorial.</li>
<li><code>tutorila_anchor</code> (OTO): This links translations with <code>Tutorial</code>. </li>
<li><code>abstract</code>: The content of the abstract that will be displayed on the website's abstract section. </li>
<li><code>content_md</code>: The markdown version of the tutorial text</li>
<li><code>content_html</code>: The html version of the tutorial text</li>
</ul>
<h2 id="languagecodegraphcontent"><code>{LanguageCode}GraphContent</code></h2>
<p><code>{LanguageCode}</code> should be swapped by actual language code like <code>ENUS</code>, <code>ZHCN</code>, etc. The code should only contain uppercase letters. This kind of tables store the info of graphs in different translations. </p>
<ul>
<li><code>UUIDMixin</code></li>
<li><code>TimeDateMixin</code></li>
<li><code>PublishedMixin</code></li>
<li><code>title</code>: The actual title that will be in different language and displayed on the website's title section. </li>
<li><code>abstract</code>: The content of a short introduction of the graph</li>
<li><code>graph_anchor</code>: This link translations of graph content with <code>Graph</code>. </li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../for-writers/get-started/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Get Started
              </div>
            </div>
          </a>
        
        
          <a href="../naming-convention/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Naming Conventions
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>